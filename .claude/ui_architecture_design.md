---
description:
globs:
alwaysApply: true
---
# 블록(Block)의 종류들

## 대분류
• 구분
• 함수
• 조건
• 집계
• 변수

## {함수} 블록 — 중분류
• 과목 선택
• 점수 계산

## {함수} 블록 — 소분류
• 과목 선택: 반영과목, 반영학기, 우수 N과목
• 점수 계산: 학년별 반영비율, 교과군별 반영비율, 배율, 배점표, 수식

## {집계} 블록 — 중분류
• 합계
• 평균
• 개수
• 최댓값
• 최솟값

# 블록별 대표 색상 (color)

• 구분 블록: green
• 함수 블록: blue
• 조건 블록: purple
• 집계 블록: yellow
• 변수 블록: red

# 블록별 Grid Unit Size (N: 높이, M: 너비)

## 구분 블록
• N × M
• 행/열 자유 추가·삭제 가능

## 함수 블록
• 반영교과 / 반영학기 / 우수 N과목 / 배점표 / 수식: N × 1
• 학년별 반영비율: N × 3
• 교과군별 반영비율: N × M (열 자유 추가·삭제 가능)

# 블록별 헤더(Head)

## 구분 블록
• 열(col)마다 1개의 헤더 셀, 해당 셀에서 구분 유형 선택 가능

### 반영교과 / 반영학기 / 우수 N과목 / 배점표 / 수식 블록
• Body에 열이 많아도 헤더 셀(=열)은 항상 1개
• 헤더 셀에는 블록명 표기
• 반영교과 / 반영학기: 블록명 옆에 드롭다운 토큰(‘포함’/‘제외’) 존재

### 교과군별 반영비율 블록
• 헤더 Grid의 행(row) = 2

1행: 블록명(열 = 1)

2행: 교과군들(열 = 1개 이상)
· “교과군 추가” 버튼으로 교과군 열(col) 추가
· 2행 각 셀 클릭 시 {교과군} 유형 선택

### 학년별 반영비율 블록
• 헤더 Grid의 행(row) = 2

1행: 블록명(열 = 1)

2행: 학년 표시(열 = 3)
· 2행 셀 텍스트: {1학년}, {2학년}, {3학년}

# Block Body의 셀(Cell) 입력

## 셀 입력 방식 종류

• 토큰(Token) + 텍스트(Text)
셀에 토큰과 고정 텍스트가 함께 표시
토큰은 드롭다운으로 설정(반드시 1개 이상), 텍스트는 블록별 고정(없을 수도 있음)
예: {2008}년 {이상} 졸업자

• 표(Table)
셀 내부에 N × N 표 존재, 행/열 자유 추가·삭제 가능

• 수식(Formula)
DSL 형식 입력, 저장된 변수 사용 가능

블록별 셀 입력 방식 (중괄호 { } = 토큰, 대괄호 [ ] = 옵션. 옵션은 기본 비표시, 셀 값 오른쪽 ‘+’ 버튼으로 활성화)

2-1) 구분 블록
• 각 열(Column)의 구분 유형에 따라 입력 값이 정해짐

구분유형별 입력
• 졸업년도(graduateYear): 예) {졸업년도}년 [{조건}] 졸업자
{졸업년도}: 1980~2026 숫자
{조건}: ‘이상’, ‘이하’ 중 선택

• 전형(admission): 예) {전형}, ...
{전형}: DB의 admission 테이블 값
{전형}은 1개 이상 추가 가능

• 단위(major): 예) {단위}, ...
{단위}: DB의 major 테이블 값
{단위}는 1개 이상 추가 가능

• 교과군(subjectGroup): 예) {교과군}, ...
{교과군}: DB의 subjectGroup 테이블 값
{교과군}은 1개 이상 추가 가능

• 과목구분(subjectSeparation): 예) {과목구분}
{과목구분}: ‘일반교과’, ‘진로선택과목’, ‘예체능교과’ 중 선택

• 지원자 유형(applicantSelectType): 예) {지원유형}
{지원유형}: ‘재학생’, ‘졸업생’ 중 선택

• 이수단위(unit): 예) {이수단위}
{이수단위}: 1~5 정수

2-2) 반영교과 블록
• 예) {교과군}, ...
{교과군}: DB의 subjectGroup 테이블 값
{교과군}은 1개 이상 추가 가능

2-3) 반영학기 블록
• 예) <반영학기> [ 우수 {우수학기 개수}학기 ]
<반영학기>: 1-1, 1-2, 2-1, 2-2, 3-1, 3-2 (총 6개 체크박스)
{우수학기 개수}: 1~6 정수

2-4) 우수 N 과목 블록
• 예) [ {반영옵션} ] 상위 {반영과목 수}
{반영옵션}: ‘전체’, ‘교과군별’ 중 선택
{반영과목 수}: 1 이상 정수

2-5) 교과군별 반영비율 블록
• 예) {비율}
{비율}: 0~100 정수

2-6) 학년별 반영비율 블록
• 예) {비율}
{비율}: 0~100 정수

2-7) 배점표 블록
• 예) {입력값}{입력옵션}->{출력값}{출력옵션}\n<표>
{입력값}, {출력값}: ‘석차등급’, ‘성취도등급’, ‘평어등급’, ‘원점수’, ‘배점’ 중 선택
{입력옵션}, {출력옵션}: ‘일치’, ‘범위’ 중 선택

<표>: 2 × M 표
· 1행에 입력값, 2행에 출력값 입력
· 입·출력값 형식은 {입력값}/{출력값}과 {입력옵션}/{출력옵션}에 따라 달라짐

# 표 내부 셀 입력 방식
• ‘일치’: 단일 값 입력
• ‘범위’: {범위시작값}~{범위종료값} (2개 값 입력)

## 표 내부 셀 값 유형
• 석차등급: 1~9 정수
• 성취도등급: A/B/C 중 선택
• 평어등급: ‘수’/‘우’/‘미’/‘양’/‘가’ 중 선택
• 원점수: 0~100 실수
• 배점: 0~100 실수

2-8) 수식 블록
• 예) <DSL 수식>
<DSL 수식>: DSL 수식 입력

2-9) 조건 블록
• 예) <DSL 수식>
<DSL 수식>: DSL 수식 입력, 반환값은 boolean

2-10) 집계 블록
• 예) {집계 기준값}에 대한 {집계 유형}
{집계 기준값}: ‘석차등급’, ‘성취도등급’, ‘평어등급’, ‘원점수’, ‘배점’ 중 선택
{집계 유형}: ‘합계’, ‘평균’, ‘개수’ 중 선택

2-11) 변수 블록
• 예) <DSL 수식>
<DSL 수식>: DSL 수식 입력, 반환값은 Context 변수로 저장